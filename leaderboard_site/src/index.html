<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Letta Leaderboard</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
<nav>
    <a href="https://letta.com/research">Research</a>
    <a href="https://app.letta.com">ADE</a>
    <a href="https://github.com/letta-ai/letta-evals">GitHub</a>
    <a href="https://discord.gg/letta">Discord</a>
    <a href="mailto:research@letta.com">Contact</a>
</nav>
    <div class="header">
        <div class="header-start">
            <a href="https://letta.com">
                <img src="./letta-logo.svg" alt="Letta" class="letta-logo">
            </a>
            <div>
                <h1 class="title">Letta Research</h1>
                <div><h3 class="subtitle">Context-Bench: A benchmark for agentic context engineering</h3></div>
            </div>
        </div>
    </div>


    <div class="caption">
        <div class="caption-inner">
        Context-Bench (C-Bench) evaluates how well language models can chain file operations, trace entity relationships, and manage multi-step information retrieval.
        </div>
        <div class="caption-inner">
        Read more about Context-Bench on our <a href="https://letta.com/blog/context-bench">blog</a>.
        </div>
        <div class="caption-inner">
        Interested in contributing a task or model? <a href="mailto:research@letta.com">Email us</a> or <a href="https://github.com/letta-ai/letta-evals/issues">open an issue</a> on GitHub.
        </div>
    </div>


    <div class="chart-container">
        <input type="text" id="searchInput" class="search-bar" placeholder="Search models...">

        <div class="chart-container--inner">
            {%- assign sorted_by_score = leaderboard | sort: "average" | reverse -%}
            {%- assign max_score = sorted_by_score[0].average -%}
            {%- assign sorted_by_cost = leaderboard | sort: "total_cost" -%}
            {%- assign min_cost = sorted_by_cost[0].total_cost -%}
            {%- assign sorted_by_cost_desc = leaderboard | sort: "total_cost" | reverse -%}
            {%- assign max_cost = sorted_by_cost_desc[0].total_cost -%}
            {%- assign cost_range = max_cost | minus: min_cost -%}
            {%- for entry in sorted_by_score -%}
            <div class="chart-row" data-model="{{ entry.model }}">
                <div class="chart-label">
                    {%- assign provider = entry.model | split: "/" | first -%}
                    <img src="./icons/{{ provider }}.svg" alt="{{ provider }}" class="model-icon">
                    <span>{{ entry.model }}</span>
                </div>
                <div class="chart-bar-wrapper">
                    <div class="chart-bar" style="width: {{ entry.average }}%"></div>
                    <div class="chart-value">
                        <span>{{ entry.average }}%</span>
                        {%- if entry.total_cost <= 4 -%}
                        {%- assign cost_normalized = entry.total_cost | divided_by: 4.0 -%}
                        {%- assign hue = cost_normalized | times: -60 | plus: 120 -%}
                        {%- else -%}
                        {%- assign cost_over_threshold = entry.total_cost | minus: 4 -%}
                        {%- assign remaining_range = max_cost | minus: 4 -%}
                        {%- assign cost_normalized = cost_over_threshold | divided_by: remaining_range -%}
                        {%- assign hue = cost_normalized | times: -60 | plus: 60 -%}
                        {%- endif -%}
                        <span class="cost-badge" style="background-color: hsl({{ hue }}, 70%, 45%); color: white;">${{ entry.total_cost }}</span>
                    </div>
                </div>
            </div>
            {%- endfor -%}
        </div>
    </div>
    
    <script>
        document.documentElement.classList.remove('no-js');
        
        const searchInput = document.getElementById('searchInput');
        const chartRows = document.querySelectorAll('.chart-row');
        const chartContainer = document.querySelector('.chart-container');
        
        const initialHeight = chartContainer.offsetHeight;
        chartContainer.style.height = initialHeight + 'px';
        
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            
            chartRows.forEach(row => {
                const modelName = row.getAttribute('data-model').toLowerCase();
                if (modelName.includes(searchTerm)) {
                    row.style.display = 'grid';
                } else {
                    row.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
