name: ascii-art-weighted-average-gate
description: Weighted average gate combining quality (70%) and ASCII validation (30%)
dataset: dataset.csv
target:
  kind: letta_agent
  agent_file: ascii-art-agent.af
  base_url: http://localhost:8283
graders:
  quality:
    kind: model_judge
    display_name: "rubric score"
    prompt_path: rubric.txt
    model: gpt-5-mini
    temperature: 0.0
    provider: openai
    max_retries: 3
    timeout: 120.0
    extractor: last_assistant
    rubric_vars:
      - reference_ascii
  ascii_only:
    kind: tool
    display_name: "ascii character check"
    function: ascii_printable_only
    extractor: last_assistant
gate:
  kind: weighted_average
  aggregation: avg_score
  weights:
    quality: 0.7
    ascii_only: 0.3
  op: gte
  value: 0.75
