name: skill-test-writing
description: Evaluate if agent can write high-quality test cases for skills
dataset: data/dataset.jsonl

target:
  kind: letta_code
  base_url: https://api.letta.com/
  working_dir: output
  sandbox: false
  skills_dir: .skills
  timeout: 600
  max_retries: 1
  model_handles:
    # Anthropic
    - anthropic/claude-opus-4-5-20251101
    - anthropic/claude-sonnet-4-5-20250929
    - anthropic/claude-haiku-4-5-20251001
    # OpenAI
    - openai/gpt-5.2-2025-12-11
    - openai/gpt-5.1-codex
    - openai/gpt-4.1-2025-04-14
    - openai/gpt-4.1-nano-2025-04-14
    # Google
    - google/gemini-3-flash-preview
    # Other providers (via openrouter)
    - openrouter/z-ai/glm-4.6
    - openrouter/minimax/minimax-m2
    - openrouter/moonshotai/kimi-k2-0905
    - openrouter/openai/gpt-oss-120b

graders:
  test_quality:
    kind: model_judge
    display_name: "test quality score"
    model: claude-sonnet-4-5-20250929
    temperature: 0.0
    provider: anthropic
    prompt_path: judge_prompt.md
    extractor: last_assistant

gate:
  kind: simple
  metric_key: test_quality
  aggregation: avg_score
  op: gte
  value: 0.6
